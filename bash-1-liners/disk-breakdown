many=25;echo -e "## [\e[1;36mspace/deep\e[0m] Top ${many} from \e[1;37m${PWD}\e[0m";c=0;echo -n "Please wait...  " 1>&2;find ${PWD} -type d ! -wholename '/home/virtfs*' -a ! -wholename '/proc*' -a ! -wholename '/dev*' -a ! -wholename '/sys*' 2>/dev/null|while read stuff;do du -Ss "${stuff}" 2>/dev/null;let "c+=1";case ${c} in 1)echo -ne "\b\\" 1>&2;;25)echo -ne "\b|" 1>&2;;50)echo -ne "\b/" 1>&2;;75)echo -ne "\b-" 1>&2;;100)c=0;;esac;done|sort -rn|head -n${many}|awk '{total+=$1;if(i==5){top5=total};if($1/1024>=1){i++;printf("\r\033[1;33m%\0478i\033[0m MB - %s\n",$1/1024,$2);}}END{printf("\n\033[1;33m%\0478i\033[0m MB in top %i listed directories\n",total/1024,i);if(i>5)printf("\033[1;33m%\0478i\033[0m MB in top 5 listed directories\n",top5/1024);}';renice ${on} -p $$ 2>&1>/dev/null;echo
